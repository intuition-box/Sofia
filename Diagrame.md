Voici un diagramme complet du systÃ¨me SofIA :
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           EXTENSION CHROME (PLASMO)                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚  Service Worker          â”‚         â”‚  Side Panel (React)      â”‚            â”‚
â”‚  â”‚  (background/index.ts)   â”‚         â”‚  (components/pages/)     â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚              â”‚                                    â”‚                             â”‚
â”‚              â”‚ 1. Wallet connectÃ©                 â”‚                             â”‚
â”‚              â”‚    (MetaMask)                      â”‚                             â”‚
â”‚              â”‚                                    â”‚                             â”‚
â”‚              â–¼                                    â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚  UserSessionManager.ts                                       â”‚              â”‚
â”‚  â”‚  â€¢ generateDeterministicUUID(wallet) â†’ AUTHOR_ID             â”‚              â”‚
â”‚  â”‚    c89710c9-057e-43cc-a1ef-73de724a332c                     â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚              â”‚                                                                  â”‚
â”‚              â”‚ 2. Initialisation des IDs                                       â”‚
â”‚              â–¼                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Pour chaque agent (x5):                                                 â”‚  â”‚
â”‚  â”‚  â€¢ AGENT_ID    (fixe dans config)      : 582f4e58-1285-...  (SofIA)     â”‚  â”‚
â”‚  â”‚  â€¢ AUTHOR_ID   (dÃ©rivÃ© wallet)         : c89710c9-057e-...              â”‚  â”‚
â”‚  â”‚  â€¢ ROOM_ID     (temporaire, obsolÃ¨te)  : gÃ©nÃ©rÃ©                         â”‚  â”‚
â”‚  â”‚  â€¢ CHANNEL_ID  (temporaire, obsolÃ¨te)  : gÃ©nÃ©rÃ©                         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚              â”‚                                                                  â”‚
â”‚              â”‚ 3. Connexion Socket.IO (x5)                                     â”‚
â”‚              â–¼                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚  websocket.ts - Socket.IO Connections                        â”‚              â”‚
â”‚  â”‚  â€¢ socketSofia      â†’ localhost:3000                         â”‚              â”‚
â”‚  â”‚  â€¢ socketBot        â†’ localhost:3000                         â”‚              â”‚
â”‚  â”‚  â€¢ socketThemeExtractor â†’ localhost:3000                     â”‚              â”‚
â”‚  â”‚  â€¢ socketPulse      â†’ localhost:3000                         â”‚              â”‚
â”‚  â”‚  â€¢ socketRecommendation â†’ localhost:3000                     â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚              â”‚                                                                  â”‚
â”‚              â”‚ 4. CrÃ©ation de Session (x5)                                     â”‚
â”‚              â–¼                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚  POST /api/messaging/sessions                                â”‚              â”‚
â”‚  â”‚  Body: {                                                     â”‚              â”‚
â”‚  â”‚    agentId: "582f4e58-1285-...",                            â”‚              â”‚
â”‚  â”‚    userId: "c89710c9-057e-...",                             â”‚              â”‚
â”‚  â”‚    metadata: { username, platform, agentName },             â”‚              â”‚
â”‚  â”‚    timeoutConfig: { timeoutMinutes: 1440, autoRenew: true } â”‚              â”‚
â”‚  â”‚  }                                                           â”‚              â”‚
â”‚  â”‚  Response: { sessionId: "a5f2b87a-6f0e-..." }              â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚              â”‚                                                                  â”‚
â”‚              â”‚ SESSION_IDS stockÃ©s:                                            â”‚
â”‚              â”‚ â€¢ SOFIA: a5f2b87a-6f0e-4d04-a746-e9c71e7784c7                  â”‚
â”‚              â”‚ â€¢ CHATBOT: 7a3fd2bd-afd7-4154-b9c5-29c40963c835                â”‚
â”‚              â”‚ â€¢ etc...                                                         â”‚
â”‚              â”‚                                                                  â”‚
â”‚              â”‚ 5. ROOM_JOINING via Socket.IO (type: 1)                        â”‚
â”‚              â–¼                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚  socket.emit("message", {                                    â”‚              â”‚
â”‚  â”‚    type: 1,  // ROOM_JOINING                                â”‚              â”‚
â”‚  â”‚    payload: {                                                â”‚              â”‚
â”‚  â”‚      roomId: SESSION_ID,                                     â”‚              â”‚
â”‚  â”‚      entityId: AUTHOR_ID,  // c89710c9-057e-...            â”‚              â”‚
â”‚  â”‚      serverId: "00000000-0000-0000-0000-000000000000",      â”‚              â”‚
â”‚  â”‚      userName: "User-c89710c9",                             â”‚              â”‚
â”‚  â”‚      metadata: { channelType: "DM", isDm: true }            â”‚              â”‚
â”‚  â”‚    }                                                         â”‚              â”‚
â”‚  â”‚  })                                                          â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚              â”‚                                                                  â”‚
â”‚              â”‚ 6. Envoi de Message via REST API                                â”‚
â”‚              â–¼                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚  messageSenders.ts                                           â”‚              â”‚
â”‚  â”‚  POST /api/messaging/sessions/{sessionId}/messages          â”‚              â”‚
â”‚  â”‚  Body: { content: "Votre message" }                         â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚              â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â”‚ HTTP/Socket.IO
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         SERVEUR ELIZAOS (localhost:3000)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚  Sessions API                                                â”‚              â”‚
â”‚  â”‚  â€¢ POST /api/messaging/sessions â†’ CrÃ©e session              â”‚              â”‚
â”‚  â”‚  â€¢ POST /api/messaging/sessions/{id}/messages â†’ Envoie msg  â”‚              â”‚
â”‚  â”‚  â€¢ GET  /api/messaging/sessions/{id}/messages â†’ RÃ©cupÃ¨re    â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚              â”‚                                                                  â”‚
â”‚              â”‚ 7. RÃ©ception ROOM_JOINING (Socket.IO)                           â”‚
â”‚              â–¼                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚  SocketIO Server (@elizaos/server)                          â”‚              â”‚
â”‚  â”‚  â€¢ ReÃ§oit type: 1 (ROOM_JOINING)                           â”‚              â”‚
â”‚  â”‚  â€¢ socket.join(roomId)                                       â”‚              â”‚
â”‚  â”‚  â€¢ Ã‰met Ã©vÃ©nement: ENTITY_JOINED                            â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚              â”‚                                                                  â”‚
â”‚              â”‚ 8. Plugin Starter intercepte ENTITY_JOINED                      â”‚
â”‚              â–¼                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚  @sofia/plugin-starter                                       â”‚              â”‚
â”‚  â”‚  â€¢ ReÃ§oit: entityId (c89710c9-057e-...)                    â”‚              â”‚
â”‚  â”‚  â€¢ Ã‰met: WORLD_JOINED avec entities et rooms                â”‚              â”‚
â”‚  â”‚  â€¢ Attend 100ms                                              â”‚              â”‚
â”‚  â”‚  â€¢ VÃ©rifie: runtime.getEntityById(entityId)                 â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚              â”‚                                                                  â”‚
â”‚              â”‚ 9. Bootstrap crÃ©e les entitÃ©s                                   â”‚
â”‚              â–¼                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚  @elizaos/plugin-bootstrap                                   â”‚              â”‚
â”‚  â”‚  â€¢ Ã‰coute: WORLD_JOINED                                      â”‚              â”‚
â”‚  â”‚  â€¢ Appelle: syncSingleUser(entityId)                        â”‚              â”‚
â”‚  â”‚  â€¢ CrÃ©e: World (c546a68e-e596-015f-...)                    â”‚              â”‚
â”‚  â”‚  â€¢ CrÃ©e: Entity User (c89710c9-057e-...)                   â”‚              â”‚
â”‚  â”‚  â€¢ âš ï¸ Erreur: world.name (bug ElizaOS)                     â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚              â”‚                                                                  â”‚
â”‚              â”‚ 10. Message Processing                                          â”‚
â”‚              â–¼                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚  Agent Processing (x5)                                       â”‚              â”‚
â”‚  â”‚  â€¢ SofIA1       (582f4e58-1285-...)                         â”‚              â”‚
â”‚  â”‚  â€¢ SofIA-Chat   (79c0c83b-2bd2-...)                         â”‚              â”‚
â”‚  â”‚  â€¢ PulseAgent                                                â”‚              â”‚
â”‚  â”‚  â€¢ RecommendationAgent                                       â”‚              â”‚
â”‚  â”‚  â€¢ ThemeExtractor                                            â”‚              â”‚
â”‚  â”‚                                                              â”‚              â”‚
â”‚  â”‚  Chaque agent:                                               â”‚              â”‚
â”‚  â”‚  â€¢ ReÃ§oit message via MessageBusService                     â”‚              â”‚
â”‚  â”‚  â€¢ GÃ©nÃ¨re rÃ©ponse avec GaiaNet LLM                          â”‚              â”‚
â”‚  â”‚  â€¢ Retourne via Socket.IO                                    â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚              â”‚                                                                  â”‚
â”‚              â”‚ 11. Base de donnÃ©es PostgreSQL                                  â”‚
â”‚              â–¼                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚  .eliza/.elizadb (PostgreSQL)                               â”‚              â”‚
â”‚  â”‚  Tables:                                                     â”‚              â”‚
â”‚  â”‚  â€¢ sessions      â†’ Les sessions actives                     â”‚              â”‚
â”‚  â”‚  â€¢ entities      â†’ User (c89710c9-057e-...)                â”‚              â”‚
â”‚  â”‚  â€¢ worlds        â†’ World (c546a68e-e596-...)               â”‚              â”‚
â”‚  â”‚  â€¢ channels      â†’ DM channels                               â”‚              â”‚
â”‚  â”‚  â€¢ messages      â†’ Historique des messages                   â”‚              â”‚
â”‚  â”‚  â€¢ agents        â†’ Configs des 5 agents                     â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              PROBLÃˆME ACTUEL                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚  âŒ Message vient de: e161938d-6b56-0128-aa91-94201f895f01                    â”‚
â”‚     (ID inconnu, jamais crÃ©Ã© comme entity)                                      â”‚
â”‚                                                                                 â”‚
â”‚  âœ… Devrait venir de: c89710c9-057e-43cc-a1ef-73de724a332c                    â”‚
â”‚     (User entity crÃ©Ã©e par Bootstrap)                                           â”‚
â”‚                                                                                 â”‚
â”‚  ğŸ” CAUSE: L'ancien code Socket.IO (type: 2) est peut-Ãªtre encore utilisÃ©      â”‚
â”‚            au lieu de la nouvelle API REST Sessions                             â”‚
â”‚                                                                                 â”‚
â”‚  âœ… SOLUTION: VÃ©rifier que le nouveau code REST est chargÃ© aprÃ¨s rebuild       â”‚
â”‚                                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ENTITIES CRÃ‰Ã‰ES EN BASE                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚  âœ… 1 World                                                                     â”‚
â”‚     â€¢ ID: c546a68e-e596-015f-a0ea-405fbdc9fd25                                â”‚
â”‚     â€¢ serverId: 00000000-0000-0000-0000-000000000000                           â”‚
â”‚     â€¢ Owner: c89710c9-057e-43cc-a1ef-73de724a332c                             â”‚
â”‚                                                                                 â”‚
â”‚  âœ… 1 Entity (User)                                                             â”‚
â”‚     â€¢ ID: c89710c9-057e-43cc-a1ef-73de724a332c                                â”‚
â”‚     â€¢ Type: User                                                                â”‚
â”‚     â€¢ Username: User-c89710c9                                                   â”‚
â”‚     â€¢ DÃ©rivÃ© de: Wallet MetaMask                                                â”‚
â”‚                                                                                 â”‚
â”‚  âœ… 5 Sessions                                                                  â”‚
â”‚     â€¢ SofIA: a5f2b87a-6f0e-4d04-a746-e9c71e7784c7                             â”‚
â”‚     â€¢ ChatBot: 7a3fd2bd-afd7-4154-b9c5-29c40963c835                           â”‚
â”‚     â€¢ ThemeExtractor: a3082de9-a816-41ad-a34a-da8f0ad0e8fa                    â”‚
â”‚     â€¢ PulseAgent: 877e0406-6ed0-445a-a904-0c306f3c1fe6                        â”‚
â”‚     â€¢ RecommendationAgent: a316c352-f860-4f1e-b4ad-694e918a50a0               â”‚
â”‚                                                                                 â”‚
â”‚  âŒ 0 Entity Agent (PAS NÃ‰CESSAIRE selon la doc)                               â”‚
â”‚                                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜