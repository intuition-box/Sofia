 [Sofia Config] Using server URL: http://localhost:3000
 ğŸš€ [index.ts] Starting extension initialization...
index.ts:119 ğŸš€ SOFIA Extension - Service Worker ready (Plasmo)
runtime-3ba331caee263976.js:1 ğŸ”µ INFO   | [plasmo/parcel-runtime]: Connected to HMR server for /Users/maximesaint-joannis/VScode/SOFIA/Sofia/extension/.plasmo/static/background/index.ts
index.ts:109 âœ… Tracking enabled - Extension ready
index.ts:45 âœ… [index.ts] Wallet connectÃ©: 0xc634457ad68b037e2d5aa1c10c3930d7e4e2d551
index.ts:47 ğŸ”‘ [index.ts] Initializing user agent IDs...
UserSessionManager.ts:137 ï¿½ Generated IDs for SofIA: Object
UserSessionManager.ts:137 ï¿½ Generated IDs for ChatBot: Object
UserSessionManager.ts:137 ï¿½ Generated IDs for ThemeExtractor: Object
UserSessionManager.ts:137 ï¿½ Generated IDs for PulseAgent: Object
UserSessionManager.ts:137 ï¿½ Generated IDs for RecommendationAgent: Object
websocket.ts:66 âœ… User agent IDs initialized: Object
index.ts:50 âœ… [index.ts] User agent IDs initialized
index.ts:52 ğŸ¯ [index.ts] Loading domain intentions...
indexedDB.ts:136 âœ… IndexedDB initialized successfully
intentionRanking.ts:358 âœ… [intentionRanking] Loaded 4 domain intentions from IndexedDB
index.ts:56 ğŸ“š [index.ts] Initializing SofIA socket...
index.ts:58 ğŸ¤– [index.ts] Initializing Chatbot socket...
index.ts:60 ğŸ¨ [index.ts] Initializing ThemeExtractor socket...
websocket.ts:671 ğŸ¨ [websocket.ts] ThemeExtractor socket initialization completed
index.ts:62 ğŸ«€ [index.ts] Initializing PulseAgent socket...
websocket.ts:838 ğŸ«€ [websocket.ts] PulseAgent socket initialization completed
index.ts:64 ğŸ’ [index.ts] Initializing RecommendationAgent socket...
websocket.ts:1009 ğŸ’ [websocket.ts] RecommendationAgent socket initialization completed
index.ts:68 ğŸ“¨ [index.ts] Setting up message handlers...
index.ts:72 ğŸ”” [index.ts] Initializing badge count...
index.ts:76 âœ… [index.ts] Extension initialization completed
websocket.ts:124 âœ… Connected to Eliza (SofIA), socket ID: icEv3_Zsv05mnRANAAAp
websocket.ts:126 ğŸ”‘ Using user-specific IDs: Object
indexedDB-methods.ts:1046 â™»ï¸ [AgentChannels] Retrieved channel for SofIA: d075cbe1-bac9-4bb9-9f73-00faf533da49
websocket.ts:137 â™»ï¸ [SofIA] Reusing existing channel: d075cbe1-bac9-4bb9-9f73-00faf533da49
websocket.ts:147 ğŸ“¨ [SofIA] Sent ROOM_JOINING for existing channel: d075cbe1-bac9-4bb9-9f73-00faf533da49
websocket.ts:306 ğŸ¤– Connected to Chatbot, socket ID: lt69s-hGVl13CWw-AAAr
websocket.ts:308 ğŸ”‘ Using user-specific IDs: Object
indexedDB-methods.ts:1046 â™»ï¸ [AgentChannels] Retrieved channel for ChatBot: 102e3ad4-a127-4282-9f06-8bcd70d4ca32
websocket.ts:319 â™»ï¸ [Chatbot] Reusing existing channel: 102e3ad4-a127-4282-9f06-8bcd70d4ca32
websocket.ts:329 ğŸ“¨ [Chatbot] Sent ROOM_JOINING for existing channel: 102e3ad4-a127-4282-9f06-8bcd70d4ca32
websocket.ts:515 âœ… [websocket.ts] Connected to ThemeExtractor, socket ID: v5JeW32lAJr0C4zYAAAt
websocket.ts:517 ğŸ”‘ Using user-specific IDs: Object
indexedDB-methods.ts:1046 â™»ï¸ [AgentChannels] Retrieved channel for ThemeExtractor: 402838ab-2cde-4074-9ccb-b8a6263218ac
websocket.ts:528 â™»ï¸ [ThemeExtractor] Reusing existing channel: 402838ab-2cde-4074-9ccb-b8a6263218ac
websocket.ts:538 ğŸ“¨ [ThemeExtractor] Sent ROOM_JOINING for existing channel: 402838ab-2cde-4074-9ccb-b8a6263218ac
websocket.ts:696 âœ… [websocket.ts] Connected to PulseAgent, socket ID: TWgtebVvOiu2drfKAAAv
websocket.ts:698 ğŸ”‘ Using user-specific IDs: Object
indexedDB-methods.ts:1046 â™»ï¸ [AgentChannels] Retrieved channel for PulseAgent: 0adb57e8-e09c-47d6-b88d-1bbe1cfc0ca1
websocket.ts:708 â™»ï¸ [PulseAgent] Reusing existing channel: 0adb57e8-e09c-47d6-b88d-1bbe1cfc0ca1
websocket.ts:874 âœ… [websocket.ts] Connected to RecommendationAgent, socket ID: NuZQpFHr0GKWqxYiAAAx
websocket.ts:876 ğŸ”‘ Using user-specific IDs: Object
indexedDB-methods.ts:1046 â™»ï¸ [AgentChannels] Retrieved channel for RecommendationAgent: 2bc10bc8-0d78-471e-8b3e-4f9ac52ec938
websocket.ts:886 â™»ï¸ [RecommendationAgent] Reusing existing channel: 2bc10bc8-0d78-471e-8b3e-4f9ac52ec938
usePageBlockchainData.ts:26 ğŸ” [usePageBlockchainData] Attempting to get clean URL from content script...
usePageBlockchainData.ts:29 ğŸ” [usePageBlockchainData] Response from content script: Object
usePageBlockchainData.ts:36 ğŸ” [usePageBlockchainData] Content script failed, trying tab query...
usePageBlockchainData.ts:42 ğŸ” [usePageBlockchainData] Got URL from tab: chrome://extensions/
usePageBlockchainData.ts:64 ğŸ” Fetching blockchain data for URL: chrome://extensions/
t2.gstatic.com/faviconV2?client=SOCIAL&type=FAVICON&fallback_opts=TYPE,SIZE,URL&url=http://extensions&size=32:1  Failed to load resource: the server responded with a status of 404 ()
usePageBlockchainData.ts:128 ğŸ“¥ Total atoms count: 1
usePageBlockchainData.ts:130 ğŸ“¥ Atoms response (first 100): Object
usePageBlockchainData.ts:135 ğŸ” Found atom IDs: 1 (displaying first 100)
usePageBlockchainData.ts:202 ğŸ“¥ Total triples count: 1
usePageBlockchainData.ts:203 ğŸ“¥ Triples response (first 100): Object
usePageBlockchainData.ts:215 ğŸ“¥ Total atoms (real count): 1
usePageBlockchainData.ts:217 ğŸ“¥ Atoms displayed: 1
usePageBlockchainData.ts:237 ğŸ“¥ Total triples (real count): 1
usePageBlockchainData.ts:239 ğŸ“¥ Triples displayed: 1
usePageBlockchainData.ts:242 ğŸ“Š Triple vaults: Array(1)
usePageBlockchainData.ts:403 ğŸ” [usePageBlockchainData] URL change detected via polling, refreshing data...
usePageBlockchainData.ts:26 ğŸ” [usePageBlockchainData] Attempting to get clean URL from content script...
usePageBlockchainData.ts:29 ğŸ” [usePageBlockchainData] Response from content script: {success: true}
usePageBlockchainData.ts:36 ğŸ” [usePageBlockchainData] Content script failed, trying tab query...
usePageBlockchainData.ts:42 ğŸ” [usePageBlockchainData] Got URL from tab: chrome://extensions/
usePageBlockchainData.ts:64 ğŸ” Fetching blockchain data for URL: chrome://extensions/
usePageBlockchainData.ts:128 ğŸ“¥ Total atoms count: 1
usePageBlockchainData.ts:130 ğŸ“¥ Atoms response (first 100): {atoms: Array(1)}
usePageBlockchainData.ts:135 ğŸ” Found atom IDs: 1 (displaying first 100)
usePageBlockchainData.ts:202 ğŸ“¥ Total triples count: 1
usePageBlockchainData.ts:203 ğŸ“¥ Triples response (first 100): {triples: Array(1)}
usePageBlockchainData.ts:215 ğŸ“¥ Total atoms (real count): 1
usePageBlockchainData.ts:217 ğŸ“¥ Atoms displayed: 1
usePageBlockchainData.ts:237 ğŸ“¥ Total triples (real count): 1
usePageBlockchainData.ts:239 ğŸ“¥ Triples displayed: 1
usePageBlockchainData.ts:242 ğŸ“Š Triple vaults: [{â€¦}]
ChatPage.tsx:119 ğŸ§ [ChatPage] Message listener registered
ChatPage.tsx:44 âœ‰ï¸ Message utilisateur : test message broadcast
websocket.ts:1086 ï¿½ [CHATBOT] Sending message: test message broadcast
websocket.ts:1087 ï¿½ [CHATBOT] Complete IDs: {channelId: '102e3ad4-a127-4282-9f06-8bcd70d4ca32', serverId: '00000000-0000-0000-0000-000000000000', senderId: 'c89710c9-057e-43cc-a1ef-73de724a332c', agentId: '79c0c83b-2bd2-042f-a534-952c58a1024d'}
websocket.ts:1112 ï¿½ [CHATBOT] Full payload: {
  "type": 2,
  "payload": {
    "channelId": "102e3ad4-a127-4282-9f06-8bcd70d4ca32",
    "serverId": "00000000-0000-0000-0000-000000000000",
    "senderId": "c89710c9-057e-43cc-a1ef-73de724a332c",
    "message": "test message broadcast",
    "metadata": {
      "source": "extension",
      "timestamp": 1762985911198,
      "user_display_name": "User",
      "isDM": true,
      "channelType": "DM"
    }
  }
}
websocket.ts:1117 âœ… [CHATBOT] Message sent via Socket.IO to channel 102e3ad4-a127-4282-9f06-8bcd70d4ca32
websocket.ts:422 ğŸ“¡ [Chatbot] messageBroadcast received (RAW): {id: 'f9d4a7e2-d8a8-4041-a96a-19af0d2f8589', senderId: 'c89710c9-057e-43cc-a1ef-73de724a332c', senderName: 'User', text: 'test message broadcast', channelId: '102e3ad4-a127-4282-9f06-8bcd70d4ca32',Â â€¦}channelId: "102e3ad4-a127-4282-9f06-8bcd70d4ca32"createdAt: 1762985911210id: "f9d4a7e2-d8a8-4041-a96a-19af0d2f8589"roomId: "102e3ad4-a127-4282-9f06-8bcd70d4ca32"senderId: "c89710c9-057e-43cc-a1ef-73de724a332c"senderName: "User"serverId: "00000000-0000-0000-0000-000000000000"source: "socketio_client"text: "test message broadcast"[[Prototype]]: Object
websocket.ts:423 ğŸ“¡ [Chatbot] Analysis: {channelId: '102e3ad4-a127-4282-9f06-8bcd70d4ca32', roomId: '102e3ad4-a127-4282-9f06-8bcd70d4ca32', senderId: 'c89710c9-057e-43cc-a1ef-73de724a332c', senderName: 'User', source: 'socketio_client',Â â€¦}channelId: "102e3ad4-a127-4282-9f06-8bcd70d4ca32"channelMatch: trueexpectedAgentId: "79c0c83b-2bd2-042f-a534-952c58a1024d"expectedChannelId: "102e3ad4-a127-4282-9f06-8bcd70d4ca32"isFromAgent: falseroomId: "102e3ad4-a127-4282-9f06-8bcd70d4ca32"senderId: "c89710c9-057e-43cc-a1ef-73de724a332c"senderName: "User"source: "socketio_client"[[Prototype]]: Object
websocket.ts:459 â­ï¸ [Chatbot] Message not for us: {reason: 'Wrong sender'}reason: "Wrong sender"[[Prototype]]: Object
websocket.ts:422 ğŸ“¡ [Chatbot] messageBroadcast received (RAW): {senderId: '79c0c83b-2bd2-042f-a534-952c58a1024d', senderName: 'SofIA-Chat', text: 'Message reÃ§u, je suis lÃ  pour vous aiderâ€¯!', roomId: '102e3ad4-a127-4282-9f06-8bcd70d4ca32', serverId: '00000000-0000-0000-0000-000000000000',Â â€¦}
websocket.ts:423 ğŸ“¡ [Chatbot] Analysis: {channelId: undefined, roomId: '102e3ad4-a127-4282-9f06-8bcd70d4ca32', senderId: '79c0c83b-2bd2-042f-a534-952c58a1024d', senderName: 'SofIA-Chat', source: 'agent_response',Â â€¦}
websocket.ts:441 âœ… [Chatbot] Agent response matched! Sending to UI...
websocket.ts:454 âœ… [Chatbot] Response sent to UI: Message reÃ§u, je suis lÃ  pour vous aiderâ€¯!
ChatPage.tsx:101 ğŸ”” [ChatPage] Received message: {type: 'CHATBOT_RESPONSE', text: 'Message reÃ§u, je suis lÃ  pour vous aiderâ€¯!'}text: "Message reÃ§u, je suis lÃ  pour vous aiderâ€¯!"type: "CHATBOT_RESPONSE"[[Prototype]]: Object
ChatPage.tsx:104 âœ… [ChatPage] Processing CHATBOT_RESPONSE: Message reÃ§u, je suis lÃ  pour vous aiderâ€¯!
ChatPage.tsx:113 ğŸ“ [ChatPage] Adding message to state, current count: 6
